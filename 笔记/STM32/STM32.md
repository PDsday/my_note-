>stm32是ST公司基于[[ARM]]公司Cortex-M3生产的系列芯片，因为其功耗低，外设多，开发简单等优点，自诞生起就占据了相当广泛的32位低功耗嵌入式处理器的市场。

---
## 1、时钟系统
>STM32的时钟频率最高可达到72MHz，但由于硬件的限制等诸多原因，实际的时钟频率可能为69MHz左右。
>STM32的时钟源有5个，分别是：
>- 高速外部时钟源 HSE     8MHz
>- 低速外部时钟源LSE   40kHz
>-  高速内部时钟源HSI      8MHz
>- 低速外部时钟源LSI    32.768kHz
>- 倍频器PLL

##### SYSCLK 系统时钟
		用户通过相关寄存器的设置，可以选择上述除PLL锁相环外的任意一个时钟源作为STM32系统时钟的来源。以默认的72MHz的系统时钟为例，实际上是通过寄存器设置高速外部时钟源HSE作为系统时钟源，通过PLL倍频器9倍频后得到72MHz的SYSCLK。
		系统复位后，默认的SYSCLK的来源是HSI，只有当系统稳定下来后(目标时钟源稳定)，才会切换用户选择的时钟源

_STM32外部允许接入的HSE实际可以高达50MHz_

##### 时钟安全CSS
			时钟安全系统可以被软件激活，它的作用的当时钟源发生异常时，做出一系列的中断动作，指挥软件营救动作。
			如果该部分激活，他将在HSE激活稳定后延迟一段时间开启，并在HSE时钟关闭后关闭。时钟安全的动作还有一部分复杂的行为，例如HSE间接或者直接的作为SYSCLK的时候的动作存在区别，等等。可在STM32参考手册中查看详情。

##### RTC实时时钟
		RTC时钟的时钟源选择将会影响到它的工作行为。它可以选择的时钟源有：
		1、HSE/128
		2、LSE
		3、LSI
		时钟源通过备份域控制寄存器设置，此后，除非备份域复位，否则时钟源的选择将不可更改。而LSE时钟存在备份域中，但HSE和LSI却不是。

![[Pasted image 20221222145649.png]]

##### 看门狗时钟
		看门狗由内部低速时钟作为时钟源，不论硬件还是软件的方式开启看门狗，LSI都会被开启。

##### 时钟输出
		STM32允许时钟外部输出到引脚MCO
		可以外部引出的时钟信号有

![[Pasted image 20221222152913.png]]


## 2、电源系统
![[Pasted image 20221222162903.png]]
>STM32的工作电压必须在2.0-3.6V之间。内核的工作电压则更小，为1.8V
>- 主电压VDD，地VSS，外部电压的供电入口。
>- ADC电压VDDA，地VSSA
>		_为了维持AD转换的精度，ADC一般使用独立的电源VDDA，引脚数目在100-144脚的芯片，会引出两个独立的外部参考电压Vref+和Vref-。而引脚数目在64脚及以下的芯片，这两个引脚没有引出，而是接到了VDDA上，使用ADC供电电源的同时，也作为参考电压电源_
>- 后备供电区域电源Vbat
>_该部分的电源即使VDD断电，亦不会休眠。因此作为休眠模式的下电源，供给给RTC，以及保存备份寄存器_

