>操作系统资源分配的最小单位。线程是调度的最小单位
>
>程序在没有运行之前，它仅仅是存储在磁盘中的一堆0和1。只有当程序运行时，操作系统会帮助我们，将程序从磁盘copy到内存中，再由CPU一条一条的执行代码。当程序被移入内存，它才算正真的“活过来”，称为进程。进程是实时的，动态的，是有始有终的戏，而原来在磁盘中的程序，则是这出戏剧的剧本。


![[Pasted image 20221028141630.png]]

	左边是程序在磁盘中的存储格式，右边是程序被拿入内存后产生的虚拟空间。可见一个程序中，被拷贝到内存的只有代码段，数据段这些部分，而ELF头，.interp这类文件格式信息，则不会被移动到内存中。
	被拷贝如内存的程序得以运行而成为“活着的”进程。而计算机中，存在着许许多多的程序，运行着许许多多的进程，如何区分这些进程？什么时候运行那个进程，他们之间资源访问如何调度？这就是Linux内核，进程管理部分的内容。


### PCB（proess control block）
进程控制块

>上图中，当一个进程在内存中诞生时，它会被嵌入一个结构体，task_struct{ }，这个结构体可以称为史上最大结构体，或者宇宙最大结构体也不为过它自身就占据了内存好几k的大小。它内部的成员，存储了进程的内存资源、CPU资源、文件、信号、锁，ID等等，这些信息都被事无巨细的一一记录在这个结构体中。这些结构体也被称为PCB进程控制块。正是因为这个结构体，如此事无巨细的记录下进程的信息，它自然而然的称为一个很好的研究内核的切入点。

_这个宇宙最大结构体，可以在内核文件下sched.h近距离观摩_

目录：移植的内核文件/usr/src/任一内核下/include/linux/sched.h

---
### Linux查看进程的一些基本命令

#### pstree  进程树

![[Pasted image 20221028150822.png]]

		打头的进程名称为systemd，这个进程叫做初始进程，是整个系统，上电之后运行的第一个进程，其余的进程都是由这个进程派生出来的子进程。在其他的Linux系统，或者老版本的ubuntu中，它叫做init。
---
#### ps -ef
查看运行中的进程
![[Pasted image 20221028151228.png]]

		这个命令可以查看运行中的进程的多个信息。进程的名字，PID，组ID等等，他会一下子列出所有在运行的进程。

_ps -ef | more_
_这样子可以逐步查看进程信息，进程的信息会先列出来十几个，想查看就接着按enter_

![[Pasted image 20221028151611.png]]

---
